<html>
	<h3>Template for gallery</h3>
	<p>This is a simple HTML template.</p>
	<!-- ###TEMPLATE1### begin -->
	<div class="zhdk_madekplayer-galleriffic" id="zhdk_madekplayer-###RANDOM_INDEX###">
		<div class="zhdk_madekplayer-controls"></div>
		<!--<div id="zhdk_madekplayer-loading-###RANDOM_INDEX###"></div>-->
		<div class="zhdk_madekplayer-slideshow-table">
			<div class="zhdk_madekplayer-slideshow-cell">
			</div>
		</div>
		<div class="zhdk_madekplayer-caption"></div>
		<div class="zhdk_madekplayer-thumbs">
			<ul class="thumbs noscript">
				<!-- ###CONTENT### begin-->
					<!-- ###ROW### begin -->
					<li>
						<a class="thumb" href="###IMAGE_URL###" title="###TITLE###"><img alt="###TITLE###" src="###THUMBNAIL_URL###" /></a>
						<div class="caption">
							###CAPTION###
						</div>
					</li>
					<!-- ###ROW### end -->
					<!-- ###CONTENT### end-->
			</ul>
		</div>
	</div>
	<script type="text/javascript">
	jQuery(document).ready(function($) {
		var stripPx = function(string) {
			var pos = string.indexOf('px');
			if(pos > 0) {
				return parseInt(string.substring(0, pos));
			} else {
				return parseInt(string);
			}
		}

		var maxImageWidth = ###MAX_IMAGE_WIDTH###;
		var maxImageHeight= ###MAX_IMAGE_HEIGHT###;
		var playerWidth = ###PLAYER_WIDTH###;
		var playerTotalHorizontalPadding = stripPx(jQuery('div#zhdk_madekplayer-###RANDOM_INDEX###').css('padding-left')) + stripPx(jQuery('div#zhdk_madekplayer-###RANDOM_INDEX###').css('padding-right'));
		var parentWidth = jQuery('div#zhdk_madekplayer-###RANDOM_INDEX###').parent().width();

		if(playerWidth + playerTotalHorizontalPadding > parentWidth) {
			playerWidth = parentWidth - playerTotalHorizontalPadding;
		}

		if(maxImageWidth > playerWidth) {
			maxImageWidth = playerWidth;
		}
		
		console.log(
				"maxImageWidth initial: ###MAX_IMAGE_WIDTH###\n" +
				"parentWidth: " + parentWidth + "\n" +
				"playerWidth initial: ###PLAYER_WIDTH###\n" +
				"playerWidth: " + playerWidth + "\n" +
				"playerTotalHorizontalPadding: " + playerTotalHorizontalPadding + "\n" +
				"maxImageWidth: " + maxImageWidth + "\n"
			);
		console.log(
			jQuery('div#zhdk_madekplayer-###RANDOM_INDEX###').parent());

		jQuery('div#zhdk_madekplayer-###RANDOM_INDEX###').css('width', playerWidth);
		jQuery('div#zhdk_madekplayer-###RANDOM_INDEX### .zhdk_madekplayer-slideshow-table').css('height', maxImageHeight + 'px');
		jQuery('div#zhdk_madekplayer-###RANDOM_INDEX### .zhdk_madekplayer-slideshow-table').css('width', playerWidth + 'px');

		jQuery('<style type="text/css">' +
			'div#zhdk_madekplayer-###RANDOM_INDEX### .zhdk_madekplayer-slideshow-cell img {' +
			'	max-width: ' + maxImageWidth + 'px;' +
			'	max-height:' + maxImageHeight + 'px;' +
			'}' +
			'</style>').appendTo("head");

	    var gallery = jQuery('div#zhdk_madekplayer-###RANDOM_INDEX### .zhdk_madekplayer-thumbs').galleriffic({
	        delay:                     3000, // in milliseconds
	        numThumbs:                 ###THUMBNAIL_COUNT###, // The number of thumbnails to show page
	        preloadAhead:              12, // Set to -1 to preload all images
	        enableTopPager:            false,
	        enableBottomPager:         true,
	        maxPagesToShow:            12,  // The maximum number of pages to display in either the top or bottom pager
	        imageContainerSel:         'div#zhdk_madekplayer-###RANDOM_INDEX### .zhdk_madekplayer-slideshow-cell', // The CSS selector for the element within which the main slideshow image should be rendered
	        controlsContainerSel:      'div#zhdk_madekplayer-###RANDOM_INDEX### .zhdk_madekplayer-controls', // The CSS selector for the element within which the slideshow controls should be rendered
	        captionContainerSel:       'div#zhdk_madekplayer-###RANDOM_INDEX### .zhdk_madekplayer-caption', // The CSS selector for the element within which the captions should be rendered
	        //loadingContainerSel:       '', // The CSS selector for the element within which should be shown when an image is loading
	        renderSSControls:          true, // Specifies whether the slideshow's Play and Pause links should be rendered
	        renderNavControls:         true, // Specifies whether the slideshow's Next and Previous links should be rendered
	        playLinkText:              '###PLAY###',
	        pauseLinkText:             '###PAUSE###',
	        prevLinkText:              '###PREV###',
	        nextLinkText:              '###NEXT###',
	        nextPageLinkText:          '###NEXT_LINK###',
	        prevPageLinkText:          '###PREV_LINK###',
	        enableHistory:             false, // Specifies whether the url's hash and the browser's history cache should update when the current slideshow image changes
	        enableKeyboardNavigation:  true, // Specifies whether keyboard navigation is enabled
	        autoStart:                 false, // Specifies whether the slideshow should be playing or paused when the page first loads
	        syncTransitions:           false, // Specifies whether the out and in transitions occur simultaneously or distinctly
	        defaultTransitionDuration: 500, // If using the default transitions, specifies the duration of the transitions
	        /*onSlideChange:             undefined, // accepts a delegate like such: function(prevIndex, nextIndex) { ... }
	        onTransitionOut:           undefined, // accepts a delegate like such: function(slide, caption, isSync, callback) { ... }
	        onTransitionIn:            undefined, // accepts a delegate like such: function(slide, caption, isSync) { ... }
	        onPageTransitionOut:       undefined, // accepts a delegate like such: function(callback) { ... }
	        onPageTransitionIn:        undefined, // accepts a delegate like such: function() { ... }
	        onImageAdded:              undefined, // accepts a delegate like such: function(imageData, li) { ... }
	        onImageRemoved:            undefined  // accepts a delegate like such: function(imageData, li) { ... }*/
	    });
	});
	</script>
	<!-- ###TEMPLATE1### end -->
</html>